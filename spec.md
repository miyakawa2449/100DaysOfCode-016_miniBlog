# ミニブログ仕様書

---

## 1. ユーザ管理・プロフィール

- ユーザ登録・ログイン・ログアウト機能
- ユーザ情報  
  - email（ID兼用、ユニーク）  
  - name（本名）  
  - ハンドルネーム（公開用）  
  - パスワード（ハッシュ化保存）  
  - 紹介文（250文字以内）  
  - 出身地（10文字以内）  
  - 誕生日（yyyy年m月d日）  
  - SNSアカウント（X, Facebook, Instagram, Threads, YouTube）  
- プロフィールページ  
  - ハンドルネーム  
  - 投稿記事一覧  
  - 紹介文  
  - 出身地  
  - 誕生日  
  - SNSアカウント（登録があれば公開）

---

## 2. 公開ページ（一般ユーザ向け）

- ホーム（新着・人気記事一覧、OGP情報出力）
- カテゴリーページ（カテゴリ別記事一覧、階層対応、OGP情報出力）
- 記事ページ（タイトル、本文、アイキャッチ画像、記事内画像、SNS埋込、外部記事OGP埋込、要約、ディスクリプション、OGP情報出力）
- プロフィールページ（上記参照）

---

## 3. 管理画面（管理者・投稿者向け）

- ダッシュボード（統計情報、最近の投稿など）
- サイト管理  
  - サイトタイトル、サブタイトル  
  - トップページのヘッダー画像、ロゴ画像  
  - OGP用イメージ（トップページ用）  
  - サイト紹介文（OGP description用）
- ユーザ管理（ユーザ一覧、編集、削除）
- 記事管理（ブロック型エディタ方式）
  - 記事作成・編集・削除
  - 記事タイトル
  - アイキャッチ画像ブロック（16:9、800px、記事先頭専用）
  - 記事本文は「ブロック」のリストとして管理
    - テキストブロック（Markdown対応）
    - 画像ブロック（1:1、400pxでトリミング・リサイズ）
    - SNS埋込ブロック（X, Facebook, Instagram, Threads, YouTube）
    - 外部記事埋込ブロック（URL入力でOGPカード化）
  - ブロックの追加・削除・並び替えが可能
  - SNSや外部記事はURLを入力すると自動で埋込ブロックに変換
  - 記事要約、ディスクリプション
  - 記事URL（スラッグ指定、例: http://hogehoge.com/xxxxxx の xxxxxx 部分を指定）
  - カテゴリー選択・新規作成・子カテゴリ追加
  - 公開ステータス（下書き/公開/公開日時指定）
- カテゴリー管理  
  - カテゴリーの作成・編集・削除  
  - カテゴリー名、親子関係（階層構造）  
  - カテゴリーURL（スラッグ）  
  - カテゴリー紹介文（OGP description用）  
  - カテゴリーOGP画像

---

## 4. 技術スタック・その他

- Python, Flask, Jinja2, Bootstrap
- 画像処理：Pillow（トリミング・リサイズ）
- Markdown対応
- データベース：SQLiteまたは他RDBMS
- 認証：Flask-Login等
- 画像アップロード時の自動トリミング・リサイズ
- OGP情報の各ページでの動的出力（title, description, image, url）
- SNS・外部記事埋込はカード形式等で表示
- 記事本文はブロックの配列としてDBに保存（順序情報を保持）

---